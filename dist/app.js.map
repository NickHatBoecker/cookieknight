{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/config.js","webpack:///./src/js/util/cookie.js","webpack:///./src/js/util/utils.js","webpack:///./src/js/helper.js","webpack:///./src/js/layer.js","webpack:///./src/js/util/template.js","webpack:///./src/js/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","defaultConfig","elementId","privacyPolicy","introText","acceptRequiredText","moreText","acceptAllText","acceptSelectedText","declineAllText","technicallyRequiredText","goBackText","individualCookieHeadline","individualCookieText","purposeText","acceptCookieText","cookieName","cookies","cookieExpiresAfterDays","cookieDomain","config","ACCEPT_REQUIRED_ID","ACCEPT_SELECTED_ID","ACCEPT_ALL_ID","SHOW_MORE_ID","DECLINE_ID","CLOSE_DIALOG_ID","TOGGLE_COOKIE_CLASS","window","cookieKnightConfig","prop","getCookieData","parts","document","cookie","split","length","pop","shift","setCookie","domain","Date","setTime","getTime","toGMTString","removeCookie","cookiePath","generateCookieValue","acceptedCookies","cookieList","cookieIsAccepted","includes","push","id","accepted","JSON","stringify","getClosest","element","selector","Element","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","this","ownerDocument","querySelectorAll","item","parentNode","loadCookieConfig","resetLayer","cookieData","parse","forEach","checkbox","querySelector","parent","checked","classList","add","initScripts","script","cookieId","dataset","find","x","newScript","createElement","src","setAttribute","type","innerHTML","body","appendChild","remove","path","toggleCookie","hideLayer","getElementById","style","display","hideDetails","openDialog","closeDialog","closeDialogShowLayer","getCookieHtml","html","title","technicallyRequired","purpose","onload","init","addEventListener","Array","from","getElementsByClassName","acceptAll","acceptRequired","acceptSelected","declineAll","filter","selectedCookies"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","let defaultConfig = {\n    elementId: 'cookieknight',\n    privacyPolicy: '/privacy.html',\n    introText: 'Diese Website verwendet Cookies, um Ihnen den bestmöglichen Service zu ermöglichen. Einige Cookies sind technisch notwendig, während andere uns helfen, diese Website und unsere Angebote für Sie zu verbessern. Sie können Ihre Zustimmung jederzeit im Bereich „Cookies“ der Datenschutzerklärung widerrufen.',\n    acceptRequiredText: 'Erforderliche akzeptieren',\n    moreText: 'Weitere Optionen',\n    acceptAllText: 'Alle akzeptieren',\n    acceptSelectedText: 'Ausgewählte akzeptieren',\n    declineAllText: 'Alle ablehnen',\n    technicallyRequiredText: 'Technisch erforderlich',\n    goBackText: 'Zurück',\n    individualCookieHeadline: 'Individuelle Cookie Einstellungen',\n    individualCookieText: 'Wählen Sie aus, welche Cookies Sie aktivieren bzw. deaktivieren möchten. Weitere Informationen finden Sie in der <a href=\"#\">Datenschutzerklärung</a> im Bereich „Cookies“. Dort können Sie jederzeit Ihre Zustimmung widerrufen.',\n    purposeText: 'Verwendung',\n    acceptCookieText: 'Cookie akzeptieren',\n    cookieName: 'cookieknight',\n    cookies: [],\n    cookieExpiresAfterDays: 365,\n    cookieDomain: '',\n}\n\n// These are not editable\nconst config = {\n    ACCEPT_REQUIRED_ID: 'js-cookieknight-accept-required',\n    ACCEPT_SELECTED_ID: 'js-cookieknight-accept-selected',\n    ACCEPT_ALL_ID: 'js-cookieknight-accept-all',\n    SHOW_MORE_ID: 'cookieknight-show-more',\n    DECLINE_ID: 'js-cookieknight-decline',\n    CLOSE_DIALOG_ID: 'cookieknight-back',\n    TOGGLE_COOKIE_CLASS: 'js-cookieknight-toggle-cookie',\n}\n\nif (typeof window.cookieKnightConfig !== 'undefined') {\n    // Merge config objects\n    for (let prop in defaultConfig) {\n        config[prop] = defaultConfig[prop]\n    }\n\n    for (let prop in window.cookieKnightConfig) {\n        if (config.hasOwnProperty(prop)) {\n            config[prop] = window.cookieKnightConfig[prop]\n        }\n    }\n}\n\nexport default config\n","import config from \"../config\";\n\n/**\n * Get the value of the app's cookie. You can configure its name in the config.\n */\nexport const getCookieData = () => {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${config.cookieName}=`);\n    if (parts.length !== 2) {\n        return ''\n    }\n\n    return parts.pop().split(\";\").shift();\n}\n\n/**\n * Set app's cookie to hide the layer.\n */\nexport const setCookie = (value) => {\n    let domain = ''\n    if (config.cookieDomain) {\n        domain = `;domain=${config.cookieDomain}`\n    }\n    const d = new Date;\n    d.setTime(d.getTime() + 24*60*60*1000*config.cookieExpiresAfterDays);\n\n    document.cookie = `${config.cookieName}=${value};path=/${domain};expires=${d.toGMTString()}`;\n}\n\n/**\n * Remove a cookie with given name, path and domain\n */\nexport const removeCookie = (cookieName, cookiePath = '', cookieDomain = '') => {\n    let domain = ''\n    if (cookieDomain) {\n        domain = `;domain=${cookieDomain}`\n    }\n\n    document.cookie = `${cookieName}= ;path=/${cookiePath ? cookiePath : '/'}${domain};expires=Thu, 01 Jan 1970 00:00:00 GMT`;\n}\n\n/**\n * Generate a JSON string with all cookies.\n * Cookie title and whether the cookie was accepted or not is stored per cookie.\n */\nexport const generateCookieValue = (acceptedCookies) => {\n    const cookieList = []\n\n    for (let i in config.cookies) {\n        const cookie = config.cookies[i]\n\n        let cookieIsAccepted = false\n        if (acceptedCookies && acceptedCookies.includes(cookie)) {\n            cookieIsAccepted = true\n        }\n\n        cookieList.push({ id: cookie.id, accepted: cookieIsAccepted })\n    }\n\n    return JSON.stringify(cookieList)\n}\n","/**\n * Find the closest parent of given element.\n */\nexport const getClosest = (element, selector) => {\n\n    // Element.matches() polyfill\n    if (!Element.prototype.matches) {\n        Element.prototype.matches =\n            Element.prototype.matchesSelector ||\n            Element.prototype.mozMatchesSelector ||\n            Element.prototype.msMatchesSelector ||\n            Element.prototype.oMatchesSelector ||\n            Element.prototype.webkitMatchesSelector ||\n            function(s) {\n                var matches = (this.document || this.ownerDocument).querySelectorAll(s), i = matches.length\n                while (--i >= 0 && matches.item(i) !== this) {}\n\n                return i > -1;\n            }\n    }\n\n    // Get the closest matching element\n    for (; element && element !== document; element = element.parentNode) {\n        if (element.matches(selector)) return element\n    }\n\n    return null\n}\n","import { removeCookie, getCookieData } from \"./util/cookie\";\nimport { getClosest } from \"./util/utils\";\nimport config from \"./config\";\nimport { resetLayer } from \"./layer\";\n\n/**\n * Toggle cookie checkboxes on page load\n */\nexport const loadCookieConfig = () => {\n    resetLayer()\n\n    const cookieData = getCookieData()\n    if (!cookieData) {\n        return\n    }\n\n    const cookieList = JSON.parse(cookieData)\n    cookieList.forEach((cookie) => {\n        if (!cookie.accepted) {\n            return\n        }\n\n        const checkbox = document.querySelector(`[data-id=\"${cookie.id}\"]`)\n        if (!checkbox) {\n            return\n        }\n        const parent = getClosest(checkbox, '.cookieknight-detail__cookie')\n\n        // Mark cookie checked\n        checkbox.checked = true\n        parent.classList.add('cookieknight-detail__cookie__checked')\n    })\n}\n\nexport const initScripts = () => {\n    const scriptList = document.querySelectorAll(`[data-cookie]`)\n    scriptList.forEach((script) => {\n        const cookieId = script.dataset.cookie\n        const cookie = JSON.parse(getCookieData()).find(x => x.id === cookieId)\n        if (!cookie || !cookie.accepted) {\n            return\n        }\n\n        const newScript = document.createElement('script')\n\n        if (script.dataset.src) {\n            newScript.setAttribute('src', script.dataset.src)\n        }\n        if (script.dataset.type) {\n            newScript.setAttribute('type', script.dataset.type)\n            newScript.innerHTML = script.innerHTML\n        }\n\n        document.body.appendChild(newScript)\n        script.remove()\n    })\n\n    config.cookies.forEach(cookie => {\n        const isAccepted = JSON.parse(getCookieData()).find(x => x.id === cookie.id).accepted || false\n        if (isAccepted || !cookie.cookies) {\n            return\n        }\n\n        cookie.cookies.forEach(cookieData => {\n            if (typeof cookieData === 'string') {\n                removeCookie(cookieData)\n            } else {\n                removeCookie(cookieData.name, cookieData.path, cookieData.domain)\n            }\n        })\n    })\n}\n\nexport const getSelectedCookies = () => {\n    const selectedCookies = []\n\n    Array.from(document.getElementsByClassName(config.TOGGLE_COOKIE_CLASS)).forEach(function (checkbox) {\n        if (!checkbox.checked) {\n            return\n        }\n\n        const cookieId = checkbox.dataset.id\n        const cookie = config.cookies.find(x => x.id === cookieId)\n\n        selectedCookies.push(cookie)\n    })\n\n    return selectedCookies\n}\n\nexport function toggleCookie () {\n    const parent = getClosest(this, '.cookieknight-detail__cookie')\n\n    if (this.checked) {\n        parent.classList.add('cookieknight-detail__cookie__checked')\n    } else {\n        parent.classList.remove('cookieknight-detail__cookie__checked')\n    }\n}\n","import config from \"./config\";\nimport { loadCookieConfig } from \"./helper\";\nimport { getClosest } from \"./util/utils\";\n\nconst DETAIL_LAYER_ID = 'cookieknight-details'\n\nexport const showLayer = () => document.getElementById(config.elementId).style.display = 'block'\nexport const hideLayer = () => document.getElementById(config.elementId).style.display = 'none'\nexport const showDetails = () => document.getElementById(DETAIL_LAYER_ID).style.display = 'block'\nexport const hideDetails = () => document.getElementById(DETAIL_LAYER_ID).style.display = 'none'\n\nexport const openDialog = () => {\n    loadCookieConfig()\n    hideLayer()\n    showDetails()\n}\n\nexport const closeDialog = () => {\n    hideDetails()\n}\n\nexport const closeDialogShowLayer = () => {\n    hideDetails()\n    showLayer()\n}\n\nexport const resetLayer = () => {\n    const checkboxes = document.querySelectorAll(`.${config.TOGGLE_COOKIE_CLASS}[data-id]`)\n    checkboxes.forEach(checkbox => {\n        checkbox.checked = false\n\n        const parent = getClosest(checkbox, '.cookieknight-detail__cookie')\n        parent.classList.remove('cookieknight-detail__cookie__checked')\n    })\n}\n","import config from \"../config\";\n\nexport const getLayerHtml = () => {\n    return `<div id=\"${config.elementId}\" class=\"cookieknight\" style=\"display: none;\">\n        <button class=\"${config.DECLINE_ID} cookieknight__close\" title=\"${config.declineAllText}\">X</button>\n        <p class=\"cookieknight__intro\">${config.introText}</p>\n        <button class=\"${config.ACCEPT_ALL_ID} cookieknight__btn cookieknight__btn--primary\">${config.acceptAllText}</button>\n        <button class=\"${config.ACCEPT_REQUIRED_ID} cookieknight__btn cookieknight__btn--primary\">${config.acceptRequiredText}</button>\n        <button class=\"${config.SHOW_MORE_ID} cookieknight__btn\">${config.moreText}</button>\n    </div>\n    <dialog id=\"cookieknight-details\" class=\"cookieknight-detail\" style=\"display: none;\">\n        <div class=\"cookieknight-detail__wrapper\">\n            <button id=\"${config.CLOSE_DIALOG_ID}\" class=\"cookieknight__close\" title=\"${config.goBackText}\">X</button>\n            <p class=\"cookieknight-detail__headline\">${config.individualCookieHeadline}</p>\n            <p class=\"cookieknight-detail__intro\">${config.individualCookieText}</p>\n            \n            <div class=\"cookieknight-detail__cookies\">${getCookieHtml()}</div>\n            <div class=\"cookieknight-detail__footer\">\n                <button class=\"${config.ACCEPT_SELECTED_ID} cookieknight__btn cookieknight__btn--primary\">${config.acceptSelectedText}</button>\n                <button class=\"${config.ACCEPT_ALL_ID} cookieknight__btn cookieknight__btn--primary\">${config.acceptAllText}</button>\n                <button class=\"${config.DECLINE_ID} cookieknight__btn\">${config.declineAllText}</button>\n            </div>\n        </div>\n    </dialog>`\n}\n\nconst getCookieHtml = () => {\n    if (!config.cookies.length) {\n        return `<p style=\"font-style: italic;\">No cookies configured yet.</p>`\n    }\n\n    let html = ''\n\n    for (let i in config.cookies) {\n        const cookie = config.cookies[i]\n        html += `<div class=\"cookieknight-detail__cookie\">\n            <div class=\"cookieknight-detail__cookie__check\">\n                <input type=\"checkbox\" name=\"acceptedCookies[]\" id=\"acceptedCookie-${i}\" class=\"${config.TOGGLE_COOKIE_CLASS}\" data-id=\"${cookie.id}\" />\n            </div>\n            <div>\n                <label for=\"acceptedCookie-${i}\" class=\"cookieknight-detail__cookie__headline\">${cookie.title}${cookie.technicallyRequired ? ` <small class=\"cookieknight-detail__cookie__required\">(${config.technicallyRequiredText})</small>` : ''}</label>\n                <p class=\"cookieknight-detail__cookie__purpose\">${config.purposeText}: ${cookie.purpose}</p>\n            </div>\n        </div>`\n    }\n\n    return html\n}\n","import '../scss/app.scss'\nimport config from './config.js'\n\nimport { generateCookieValue, getCookieData, setCookie } from \"./util/cookie\";\nimport { hideLayer, hideDetails, openDialog, closeDialog, closeDialogShowLayer } from \"./layer\";\nimport { getLayerHtml } from \"./util/template\";\nimport { loadCookieConfig, initScripts, getSelectedCookies, toggleCookie } from \"./helper\";\n\nlet acceptedCookies = []\n\nwindow.onload = () => {\n    init()\n}\n\n/**\n * Init the app's layer.\n */\nconst init = () => {\n    document.body.innerHTML = document.body.innerHTML + getLayerHtml();\n\n    const cookieData = getCookieData()\n\n    if (cookieData) {\n        loadCookieConfig()\n        initScripts()\n    } else {\n        document.getElementById(config.elementId).style.display = 'block'\n    }\n\n    // Event listeners\n    document.getElementById(config.CLOSE_DIALOG_ID).addEventListener('click', cookieData ? closeDialog : closeDialogShowLayer)\n\n    Array.from(document.getElementsByClassName(config.SHOW_MORE_ID)).forEach(function (element) {\n        element.addEventListener('click', openDialog);\n    })\n    Array.from(document.getElementsByClassName(config.ACCEPT_ALL_ID)).forEach(function (element) {\n        element.addEventListener('click', acceptAll);\n    })\n    Array.from(document.getElementsByClassName(config.ACCEPT_REQUIRED_ID)).forEach(function (element) {\n        element.addEventListener('click', acceptRequired);\n    })\n    Array.from(document.getElementsByClassName(config.ACCEPT_SELECTED_ID)).forEach(function (element) {\n        element.addEventListener('click', acceptSelected);\n    })\n    Array.from(document.getElementsByClassName(config.DECLINE_ID)).forEach(function (element) {\n        element.addEventListener('click', declineAll);\n    })\n    Array.from(document.getElementsByClassName(config.TOGGLE_COOKIE_CLASS)).forEach(function (element) {\n        element.addEventListener('change', toggleCookie);\n    })\n}\n\nconst acceptRequired = () => {\n    acceptedCookies = config.cookies.filter(x => x.technicallyRequired)\n    setCookie(generateCookieValue(acceptedCookies))\n    hideLayer()\n    hideDetails()\n    initScripts()\n}\nconst acceptSelected = () => {\n    setCookie(generateCookieValue(getSelectedCookies()))\n    hideLayer()\n    hideDetails()\n    initScripts()\n}\nconst acceptAll = () => {\n    setCookie(generateCookieValue(config.cookies))\n    hideLayer()\n    hideDetails()\n    initScripts()\n}\nconst declineAll = () => {\n    setCookie(generateCookieValue([]))\n    hideLayer()\n    hideDetails()\n}\n"],"sourceRoot":""}